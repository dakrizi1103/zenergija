<!doctype html>
<html lang="hr" class="h-full scroll-smooth">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Z-energija — Zdravlje</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .card{transition:transform .18s ease, box-shadow .18s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 12px 30px rgba(0,0,0,.08)}
    .no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}
    .no-scrollbar::-webkit-scrollbar{display:none}
  </style>
</head>
<body class="bg-white text-slate-900 antialiased overflow-x-hidden">
  <!-- Header -->
 <header class="bg-white border-b border-slate-200 sticky top-0 z-40">
  <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-3">
    <div class="flex flex-col items-center gap-3">
      <a href="/index.html" class="inline-flex items-center" aria-label="Z-energija početna">
        <img src="/images/logo.png" alt="Z-energija" class="h-9 w-auto">
      </a>
      <nav class="w-full">
        <ul class="flex flex-wrap gap-2 justify-center font-semibold text-sm">
          <li><a href="/index.html"   class="inline-block rounded-full border px-3.5 py-1.5 border-black text-black hover:bg-black hover:text-white">Home</a></li>
          <li><a href="/sport.html"   class="inline-block rounded-full border px-3.5 py-1.5 border-green-700 text-green-700 hover:bg-green-700 hover:text-white">Sport</a></li>
          <li><a href="/zdravlje.html"class="inline-block rounded-full border px-3.5 py-1.5 border-blue-700  text-blue-700  hover:bg-blue-700  hover:text-white">Zdravlje</a></li>
          <li><a href="/ostalo.html"  class="inline-block rounded-full border px-3.5 py-1.5 border-slate-500 text-slate-600 hover:bg-slate-600 hover:text-white">Ostalo</a></li>
        </ul>
      </nav>
    </div>
  </div>
    <!-- Podnavigacija (Zdravlje) -->
    <div class="bg-blue-50 border-t border-b border-blue-200">
      <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8">
        <ul class="flex gap-3 sm:gap-6 py-2 text-blue-700 font-medium overflow-x-auto no-scrollbar whitespace-nowrap">
          <li><a class="hover:underline" href="/prehrana.html">Prehrana</a></li>
          <li><a class="hover:underline" href="/fitness.html">Fitness</a></li>
          <li><a class="hover:underline" href="/mentalno.html">Mentalno zdravlje</a></li>
          <li><a class="hover:underline" href="/wellness.html">Wellness</a></li>
          <li><a class="hover:underline" href="/zdravlje-ostalo.html">Ostalo</a></li>
        </ul>
      </div>
    </div>
  </header>
<script>
  /**
   * UNIVERZALNA SKRIPTA ZA VIJESTI (v1)
   * Podaci: /vijesti.json (lista objekata)
   * Očekivani ključevi: title (string), text (string), image (url), link (url), tag (string, npr. "Nogomet")
   * Filtriranje po tagovima: postavi CONFIG.TAGS = ["Nogomet"] ili više tagova; ostavi [] ili null za sve vijesti.
   */

  // --- 3 stvari koje MIJENJAŠ po stranici (ili ostavi default) ---
  const CONFIG = {
    TAGS: ["Prehrana", "Fitness", "Mentalno zdravlje", "Wellness", "Zdravlje"],
    LIMIT: 12,
    SORT: "desc"
  };
  // --- kraj podesivog dijela ---

  // Helper: normaliziraj tag (trim + case-sensitive ostaje, ali makni višak razmaka)
  const norm = s => (s || "").toString().trim();

  // Učitaj JSON s cache-busterom
  fetch('/vijesti.json?ts=' + Date.now())
    .then(res => {
      if (!res.ok) throw new Error('HTTP ' + res.status);
      return res.json();
    })
    .then(data => {
      const grid = document.getElementById('news-grid');
      if (!grid) return;

      const all = Array.isArray(data) ? data : (data ? [data] : []);

      // Filtriranje po TAGS (ako je zadano)
      let filtered = all;
      if (CONFIG.TAGS && CONFIG.TAGS.length) {
        const allow = CONFIG.TAGS.map(norm);
        filtered = all.filter(x => allow.includes(norm(x.tag)));
      }

      // Sortiranje (ako postoji date u ISO obliku ili "YYYY-MM-DD")
      filtered.sort((a, b) => {
        const da = Date.parse(a.date || a.updated || a.created || 0) || 0;
        const db = Date.parse(b.date || b.updated || b.created || 0) || 0;
        return CONFIG.SORT === 'asc' ? da - db : db - da;
      });

      // Limit
      if (CONFIG.LIMIT && filtered.length > CONFIG.LIMIT) {
        filtered = filtered.slice(0, CONFIG.LIMIT);
      }

      if (filtered.length === 0) {
        grid.innerHTML = '<p class="text-slate-500">Još nema vijesti.</p>';
        return;
      }

      // Render kartica
      grid.innerHTML = filtered.map(item => {
        const title = item.title || 'Bez naslova';
        const text  = item.text  || '';
        const img   = item.image || 'https://picsum.photos/800/450?blur=1';
        const link  = item.link  || '#';
        const tag   = item.tag   || '';
        return `
          <article class="card border border-slate-200 rounded-2xl overflow-hidden bg-white">
            <a href="${link}" class="block">
              <img loading="lazy" src="${img}" alt="${title}" class="w-full object-cover aspect-[16/9]">
            </a>
            <div class="p-4">
              ${tag ? `<span class="inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full bg-slate-100 text-slate-700 border border-slate-200">${tag}</span>` : ''}
              <h3 class="mt-2 font-bold text-lg leading-snug"><a href="${link}" class="hover:underline">${title}</a></h3>
              ${text ? `<p class="mt-1 text-sm text-slate-600">${text}</p>` : ''}
            </div>
          </article>
        `;
      }).join('');
    })
    .catch(err => {
      console.error('Greška pri učitavanju vijesti:', err);
      const grid = document.getElementById('news-grid');
      if (grid) grid.innerHTML = '<p class="text-red-500">Greška pri učitavanju vijesti. Provjeri da postoji /vijesti.json i da je ispravan JSON.</p>';
    });
</script>


</body>
</html>
