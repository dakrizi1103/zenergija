<!doctype html>
<html lang="hr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Z-energija — Lifestyle</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-slate-900">

  <!-- Header -->
  <header class="bg-white border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4 flex items-center justify-between h-16">
      <a href="/" class="flex items-center">
        <img src="images/logo.png" alt="Z-energija" class="h-8">
      </a>
      <nav>
        <ul class="flex gap-4 font-semibold">
          <li><a href="/index.html" class="border px-3 py-1 rounded-full border-black text-black hover:bg-black hover:text-white">Home</a></li>
          <li><a href="/sport.html" class="border px-3 py-1 rounded-full border-green-700 text-green-700 hover:bg-green-700 hover:text-white">Sport</a></li>
          <li><a href="/zdravlje.html" class="border px-3 py-1 rounded-full border-blue-700 text-blue-700 hover:bg-blue-700 hover:text-white">Zdravlje</a></li>
          <li><a href="/ostalo.html" class="border px-3 py-1 rounded-full border-slate-500 text-slate-600 hover:bg-slate-600 hover:text-white">Ostalo</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Naslov sekcije -->
  <section class="bg-slate-50 border-t border-b border-slate-200 py-4"> <!-- promijeni boju prema kategoriji -->
    <div class="max-w-7xl mx-auto px-4">
      <h1 class="text-3xl font-bold text-green-700">Lifestyle</h1>
    </div>
  </section>

  <!-- Sadržaj -->
  <main class="max-w-7xl mx-auto px-4 py-6">
    <div class="grid md:grid-cols-3 gap-6">
      
     
    </div>
  </main>
<script>
const CONFIG = { TAGS: ["Lifestyle"], LIMIT: 12, SORT: "desc" };

  const norm = s => (s || "").toString().trim();

  fetch('/vijesti.json?ts=' + Date.now())
    .then(res => {
      if (!res.ok) throw new Error('HTTP ' + res.status);
      return res.json();
    })
    .then(data => {
      const grid = document.getElementById('news-grid');
      if (!grid) return;

      const all = Array.isArray(data) ? data : (data ? [data] : []);
      let filtered = all;

      if (CONFIG.TAGS && CONFIG.TAGS.length) {
        const allow = CONFIG.TAGS.map(norm);
        filtered = all.filter(x => Array.isArray(x.tags) && x.tags.some(tag => allow.includes(norm(tag))));
      }

      filtered.sort((a, b) => {
        const da = Date.parse(a.date || 0) || 0;
        const db = Date.parse(b.date || 0) || 0;
        return CONFIG.SORT === 'asc' ? da - db : db - da;
      });

      if (CONFIG.LIMIT && filtered.length > CONFIG.LIMIT) {
        filtered = filtered.slice(0, CONFIG.LIMIT);
      }

      if (filtered.length === 0) {
        grid.innerHTML = '<p class="text-slate-500">Još nema vijesti.</p>';
        return;
      }

      grid.innerHTML = filtered.map(item => `
        <article class="card border border-slate-200 rounded-2xl overflow-hidden bg-white">
          <a href="${item.link}" class="block">
            <img loading="lazy" src="${item.image}" alt="${item.title}" class="w-full object-cover aspect-[16/9]">
          </a>
          <div class="p-4">
            ${item.tags && item.tags.length ? `<span class="inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full bg-slate-100 text-slate-700 border border-slate-200">${item.tags.join(', ')}</span>` : ''}
            <h3 class="mt-2 font-bold text-lg leading-snug"><a href="${item.link}" class="hover:underline">${item.title}</a></h3>
            ${item.text ? `<p class="mt-1 text-sm text-slate-600">${item.text}</p>` : ''}
          </div>
        </article>
      `).join('');
    })
    .catch(err => {
      console.error('Greška pri učitavanju vijesti:', err);
      const grid = document.getElementById('news-grid');
      if (grid) grid.innerHTML = '<p class="text-red-500">Greška pri učitavanju vijesti.</p>';
    });
</script>



</body>
</html>
